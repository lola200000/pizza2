{% extends 'base.html.twig' %}

{% block title %}Votre Panier{% endblock %}

{% block body %}
<div class="menu-container">
    <h1 class="menu-title">Votre Panier</h1>
    <a href="{{ path('pizza_index') }}" class="back-link">‚Üê Continuer mes achats</a>

    <section class="pizza-grid">
        {% for item in items %}
            <article class="pizza-card">
                <img
                    src="{{ asset(item.pizza.image ?: 'images/pizzas/default.jpg') }}"
                    alt="{{ item.pizza.name }}"
                    class="pizza-image"
                >
                <div class="pizza-content">
                    <div class="pizza-header">
                        <h3>{{ item.pizza.name }}</h3>
                        <span class="pizza-price">{{ item.pizza.prix }} ‚Ç¨</span>
                    </div>
                    <p class="pizza-description">{{ item.pizza.description }}</p>
                    <div class="quantite-control">
                        <a href="{{ path('panier_decrease', {id: item.pizza.id}) }}" class="btn-decrease">‚àí</a>
                        <span class="quantity">{{ item.quantity }}</span>
                        <a href="{{ path('panier_index', {id: item.pizza.id}) }}" class="btn-increase">+</a>
                        <a href="{{ path('panier_remove', {id: item.pizza.id}) }}" class="btn-remove">üóëÔ∏è</a>
                    </div>
                </div>
            </article>
        {% else %}
            <p class="no-pizza">Votre panier est vide</p>
        {% endfor %}
    </section>

    {% if items|length > 0 %}
        <div class="panier-total">
            <p>Total : <strong>{{ total }} ‚Ç¨</strong></p>
            <a href="{{ path('order_checkout') }}" class="btn-order">Commander maintenant</a>
            <p class="free-delivery">Livraison gratuite pour les commandes sup√©rieures √† 20‚Ç¨</p>
    </div>
    {% endif %}
</div>
{% endblock %}
